<!DOCTYPE html>
<html>
  <head>
    <title>Snake</title>
  </head>
  <body>
    <canvas id="canvas" width="1024" height="1024"></canvas>
    <script>
      var game = {
        tickNumber: 0,
        board: [
          "###############",
          "#             #",
          "#             #",
          "#             #",
          "#             #",
          "#     ###     #",
          "#     ###     #",
          "#             #",
          "#             #",
          "#             #",
          "#             #",
          "###############",
        ],
        tick:function() {
            game.tickNumber++;
            snake.move();
            graphics.drawGame();
            game.timer = window.setTimout("game.tick()", 500);
        }
      };

      var snake = {
        parts: [
          {x:4, y:2},
          {x:3, y:2},
          {x:2, y:2}
        ],
        facing:"E",
        nextLocation: function() {
        },
        move: function() {
          var location = snake.nextlocation();
          snake.parts.unshift(location);
        }

      };

      var graphics = {         
        canvas: document.getElementById("canvas"),
        squareSize: 30,
        drawBoard: function(ctx) {          
          var currentYoffset = 0;
          game.board.forEach(function checkLine(line) {
            line = line.split("");
            var currentXoffset = 0;
            line.forEach(function checkCharacter(character) {
              if (character == "#") {
                ctx.fillStyle = "cyan";
                ctx.fillRect(currentXoffset, currentYoffset, graphics.squareSize, graphics.squareSize);
              }
              currentXoffset += graphics.squareSize;
            });
            currentYoffset += graphics.squareSize;
          });
        },
        drawSnake: function(ctx) {
          snake.parts.forEach(function drawpart(part) {
            var partXlocation = part.x * graphics.squareSize;
            var partYlocation = part.y * graphics.squareSize;
            ctx.fillStyle = "magenta";
            ctx.fillRect(partXlocation, partYlocation, graphics.squareSize,graphics.squareSize);
          });
        },
        drawGame: function() {
          var ctx = graphics.canvas.getContext("2d");
          graphics.drawBoard(ctx);
          graphics.drawSnake(ctx);
        }
      };
    
      graphics.drawGame();
      var gameControl = {
        startGame: function () {
            game.tick();
        }
      };
      gameControl.startGame();
    </script>
  </body>
</html>